<!DOCTYPE html>
<html lang="ur" dir="rtl">
<head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1.0"><title>Debug Article</title></head>
<body style="font-family: 'Mehr Nastaliq', serif; direction:rtl; padding:20px;">
  <h1 id="title">Loading…</h1>
  <p id="content">Fetching article content…</p>

  <script type="module">
    import { createClient } from 'https://cdn.jsdelivr.net/npm/@supabase/supabase-js/+esm';
    const supabase = createClient(
      'https://npnjpcwqmfwwviqlwrvw.supabase.co',
      'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im5wbmpwY3dxbWZ3d3ZpcWx3cnZ3Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTMxMTMyMzMsImV4cCI6MjA2ODY4OTIzM30.EEbXf-xsonUjvE0DZBOGcG9EU97aGNSUc6MRTEE40pU'
    );
    const articleId = new URLSearchParams(window.location.search).get('id');
    if (!articleId) {
      document.getElementById('title').textContent = 'No article ID provided';
    } else {
      supabase
        .from('articles')
        .select('id,title,content')
        .eq('id', articleId)
        .single()
        .then(({ data, error }) => {
          if (error || !data) {
            document.getElementById('title').textContent = 'Article not found';
            console.error(error);
          } else {
            document.getElementById('title').textContent = data.title;
            document.getElementById('content').textContent = data.content.slice(0,200)+'…';
          }
        });
    }
  </script>
</body>
</html>
